# 4.2. Оценка рисков информационной безопасности

Анализ выявленных уязвимостей позволяет провести систематическую оценку рисков информационной безопасности разработанной системы распознавания лиц. Оценка выполняется по методологии анализа рисков с учетом вероятности реализации угроз и потенциального ущерба для организации и пользователей системы.

## Риски презентационных атак

Отсутствие проверки подлинности лица в алгоритмах распознавания создает высокий риск несанкционированного доступа через презентационные атаки. Вероятность реализации таких атак оценивается как высокая, поскольку для их выполнения требуются лишь общедоступные фотографии целевых пользователей.

Потенциальный ущерб от успешных презентационных атак включает компрометацию системы контроля доступа, возможность проникновения злоумышленников в защищенные зоны и нарушение конфиденциальности данных организации. В системах учета рабочего времени такие атаки могут привести к финансовым потерям от фиктивной отметки присутствия.

```python
# Текущая реализация уязвима для простейших атак
def _detect_faces(self, frame):
    # Отсутствует анализ признаков живого лица
    face_locations = face_recognition.face_locations(rgb_frame, model='hog')
    # Система принимает любые изображения с лицами
```

Простота выполнения презентационных атак делает этот риск особенно критичным. Злоумышленнику достаточно получить фотографию целевого пользователя из социальных сетей или других открытых источников и предъявить её камере системы.

## Риски компрометации биометрических данных

Хранение биометрических шаблонов в незашифрованном виде создает критический риск массовой компрометации биометрических данных всех пользователей системы. Вероятность реализации этой угрозы зависит от уровня защиты файла базы данных и системы в целом.

Уникальность биометрических данных делает их компрометацию особенно опасной, поскольку пользователи не могут изменить свои биометрические характеристики в отличие от паролей или ключей доступа. Утечка биометрических шаблонов может использоваться для атак на другие биометрические системы.

```python
# Критическая уязвимость - незашифрованное хранение
def add_user(self, user_data: Dict, created_by: int):
    cursor.execute('''
        INSERT INTO users (user_id, full_name, photo_path, face_encoding, created_by)
        VALUES (?, ?, ?, ?, ?)
    ''', (
        user_data['user_id'],
        user_data['full_name'],
        user_data.get('photo_path', ''),
        json.dumps(user_data.get('face_encoding', [])),  # Открытый текст
        created_by
    ))
```

Дополнительные риски создает кэширование биометрических данных в памяти и файловой системе. Дамп памяти процесса или получение доступа к кэш-файлам может раскрыть биометрические характеристики всех зарегистрированных пользователей без необходимости компрометации основной базы данных.

## Риски нарушения аудита и отслеживания

Недостатки системы журналирования создают средний риск невозможности обнаружения и расследования инцидентов безопасности. Отсутствие детального аудита затрудняет выявление попыток несанкционированного доступа и анализ паттернов атак.

Ограниченная информация в журналах событий препятствует корректному анализу инцидентов. Отсутствие данных об источнике запросов, контексте сессий и временных корреляциях между событиями снижает эффективность системы безопасности.

```python
# Недостаточное журналирование для анализа безопасности
def add_recognition_log(self, user_id: int, confidence: float, recognition_type: str = 'SUCCESS'):
    # Отсутствуют: IP-адрес, сессия, источник, геолокация
    cursor.execute('''
        INSERT INTO recognition_logs (user_id, confidence, recognition_type)
        VALUES (?, ?, ?)
    ''', (user_id, confidence, recognition_type))
```

Возможность модификации журналов создает дополнительные риски сокрытия следов атак. Злоумышленники могут изменить или удалить записи о своих действиях, что осложняет расследование инцидентов и оценку масштаба ущерба.

## Риски архитектурных уязвимостей

Использование паттерна синглтон для менеджера камеры создает средний риск отказа в обслуживании при компрометации этого компонента. Единая точка управления видеопотоком становится критически важной для функционирования всей системы.

Отсутствие разделения привилегий между администраторами создает риск превышения полномочий и внутренних угроз. Любой аутентифицированный администратор может выполнять критические операции без дополнительных проверок и ограничений.

Слабая обработка ошибок через общие блоки `except Exception` может маскировать попытки эксплуатации уязвимостей и затруднять обнаружение атак. Такой подход снижает видимость аномальных ситуаций в работе системы.

## Риски конфигурационной безопасности

Хранение критических параметров безопасности в исходном коде создает высокий риск компрометации системы при получении доступа к файлам приложения. Учетные данные администратора по умолчанию становятся известными всем, кто имеет доступ к коду.

```python
# Открытая конфигурация создает риски безопасности
DEFAULT_ADMIN_USERNAME = 'admin'
DEFAULT_ADMIN_PASSWORD = 'admin123'
FACE_RECOGNITION_TOLERANCE = 0.6
```

Возможность изменения порогов безопасности через конфигурацию может быть использована для снижения требований к точности распознавания. Это увеличивает количество ложных срабатываний и общий уровень риска системы.

## Оценка совокупного риска

Комплексная оценка выявленных рисков показывает высокий общий уровень угроз информационной безопасности системы. Наиболее критичными являются риски презентационных атак и компрометации биометрических данных из-за их высокой вероятности и серьезного потенциального ущерба.

Взаимосвязь между различными уязвимостями усиливает общий риск системы. Успешная реализация одной угрозы может облегчить выполнение других атак, создавая каскадный эффект компрометации безопасности.

Отсутствие механизмов обнаружения и реагирования на инциденты увеличивает время воздействия угроз и потенциальный ущерб от их реализации. Системы раннего предупреждения и автоматического реагирования могли бы значительно снизить риски.

## Рекомендации по снижению рисков

Первоочередными мерами по снижению рисков должны стать интеграция модулей проверки подлинности лица и шифрование биометрических данных. Эти меры адресуют наиболее критичные уязвимости системы.

Усиление системы аудита через добавление контекстной информации и защиту журналов от модификации значительно повысит возможности обнаружения и расследования инцидентов безопасности.

Внедрение принципа разделения привилегий и усиление конфигурационной безопасности снизят риски внутренних угроз и случайных компрометаций системы.

Регулярное обновление компонентов системы и мониторинг новых угроз в области биометрической безопасности поможет поддерживать актуальный уровень защиты от развивающихся методов атак.

Такая оценка рисков обеспечивает основу для приоритизации мер по усилению безопасности и планирования развития системы с учетом требований защиты биометрических данных пользователей.